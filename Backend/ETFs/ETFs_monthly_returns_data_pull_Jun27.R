#setwd('/home/ajax/Documents/MVP/Codes/')

library(PerformanceAnalytics)
library(quantmod)
library(dygraphs)

getSymbols('zsl', src = 'google')
rm(NAIL)
# Function to calculate monthly returns on a stock
monthly_ETF_returns <- function(ticker, start_year) {
  # Download the data from Yahoo finance
  symbol <- getSymbols(ticker, src = 'google', auto.assign = FALSE, warnings = FALSE)
  # Tranform it to monthly returns using the periodReturn function from quantmod
  data <- periodReturn(symbol, period = 'monthly', subset=paste(start_year, "::", sep = ""),
                       type = 'log')
  
  # Let's rename the column of returns to something intuitive because the column name is what
  # will eventually be displayed on the time series graph.
  colnames(data) <- as.character(ticker)
  
  # We want to be able to work with the xts objects that result from this function
  # so let's explicitly put them to the global environment with an easy to use
  # name, the stock ticker.
  assign(ticker, data, .GlobalEnv)
}


year <- 2010
US_ETF <- NULL
US_ETF$Ticker <- c('NAIL',
                            'NANR',
                            'NASH',
                            'NEAR',
                            'NFLT',
                            'NFO',
                            'NFRA',
                            'NGE',
                            'NIB',
                            'NINI',
                            'NLR',
                            'NOBL',
                            'NORW',
                            'NUAG',
                            'NUGT',
                            'NUSA',
                            'NYF',
                            'OEF',
                            'OEW',
                            'OIH',
                            'OIIL',
                            'OIL',
                            'OILK',
                            'OLD',
                            'OLEM',
                            'OLO',
                            'ONEK',
                            'ONEO',
                            'ONEQ',
                            'ONEV',
                            'ONG',
                            'ORG',
                            'OUNZ',
                            'OUSM',
                            'PAF',
                            'PAGG',
                            'PAK',
                            'PALL',
                            'PAVE',
                            'PBD',
                            'PBE',
                            'PBJ',
                            'PBP',
                            'PBS',
                            'PBW',
                            'PCEF',
                            'PCY',
                            'PDBC',
                            'PDN',
                            'PDP',
                            'PEJ',
                            'PEK',
                            'PERM',
                            #'PEX',
                   US_ETF$Ticker <- c('PEY',
                            'PEZ',
                            'PFF',
                            'PFI',
                            'PFIG',
                            'PFM',
                            'PFXF',
                            'PGAL',
                            'PGD',
                            'PGF',
                            'PGHY',
                            'PGJ',
                            'PGM',
                            'PGX',
                            'PHB',
                            'PHDG',
                            'PHO',
                            'PHYS',
                            'PICB',
                            'PICK',
                            'PID',
                            'PIE',
                            'PIN',
                            'PIO',
                            'PIZ',
                            'PJP',
                            'PKB',
                            'PKW',
                            'PLND',
                            'PLW',
                            'PMPT',
                            'PMR',
                            'PNQI',
                            'PPA',
                           # 'PPH',
                           US_ETF$Ticker <- c('PPLT',
                            'PRB',
                            'PRF',
                            'PRFZ',
                            'PRME',
                            'PRN',
                            'PRNT',
                            'PSAU',
                            'PSC',
                            'PSCC',
                            'PSCD',
                            'PSCE',
                            'PSCF',
                            'PSCH',
                            'PSCI',
                            'PSCM',
                            'PSCT',
                            'PSCU',
                            'PSI',
                            'PSJ',
                            'PSK',
                            'PSL',
                            'PSLV',
                            'PSP',
                            'PSQ',
                            'PSR',
                            'PST',
                            'PTF',
                            'PTH',
                            'PTM',
                            'PUI',
                            'PUTW',
                            'PUW',
                            'PVI',
                            'PWB',
                            'PWC',
                            'PWV',
                            'PWZ',
                            'PXE',
                            'PXF',
                            'PXH',
                            'PXI',
                            'PXJ',
                            'PXLG',
                            'PXLV',
                            'PXMG',
                            'PXMV',
                            'PXQ',
                            'PXR',
                            'PXSG',
                            'PXSV',
                            'PYZ',
                            'PZA',
                            'PZD',
                            'PZI',
                            'PZT',
                            'QABA',
                            'QAI',
                            'QAT',
                            'QAUS',
                            'QCAN',
                            'QCLN',
                            'QDEF',
                            'QDEU',
                            'QDF',
                            'QDYN',
                            'QED',
                            'QEFA',
                            'QEH',
                            'QEMM',
                            'QESP',
                            'QGBR',
                            'QID',
                            'QINC',
                            'QJPN',
                            'QLC',
                            'QLD',
                            'QLS',
                            'QLTA',
                            'QMN',
                            'QQEW',
                            'QQQ',
                            'QQQC',
                            'QQQE',
                            'QQXT',
                            'QTEC',
                            'QUAL',
                            'QUS',
                            'QVAL',
                            'QVM',
                            'QWLD',
                            'QYLD',
                            'RALS',
                            'RAVI',
                            'RBL',
                            'RCD',
                            'RDIV',
                            'RDVY',
                            'REET',
                            'REGL',
                            'REK',
                            'REM',
                            'REMX',
                            'RETL',
                            'REW',
                            'REZ',
                            'RFCI',
                            'RFDA',
                            'RFEM',
                            'RFFC',
                            'RFG',
                            'RFV',
                            'RGI',
                            'RHS',
                            'RIGS',
                            'RINF',
                            'RING',
                            'RJA',
                            'RJI',
                            'RJN',
                            'RJZ',
                            'RLY',
                            'ROAM',
                            'ROBO',
                            'RODI',
                            'RODM',
                            'ROGS',
                            'ROLA',
                            'ROM',
                            'ROOF',
                            'RORE',
                            'ROUS',
                            'RPG',
                            'RPV',
                            'RRF',
                            'RSP',
                            #'RSX',
                            US_ETF$Ticker <- c('RSXJ',
                            #'RTH',
                            US_ETF$Ticker <- c('RTLA',
                            'RTM',
                            'RUSL',
                            'RUSS',
                            'RVNU',
                            'RWJ',
                            'RWK',
                            'RWL',
                            'RWM',
                            'RWO',
                            'RWR',
                            'RWW',
                            'RWX',
                            'RXD',
                            'RXI',
                            'RXL',
                            'RYE',
                            'RYF',
                            'RYH',
                            'RYJ',
                            'RYT',
                            'RYU',
                            'RZG',
                            'RZV',
                            'SAA',
                            'SAGG',
                            'SBB',
                            'SBIO',
                            'SBM',
                            'SBV',
                            #'SCAP',
                            US_ETF$Ticker <- c('SCC',
                            'SCHA',
                            'SCHB',
                            'SCHC',
                            'SCHD',
                            'SCHE',
                            'SCHF',
                            'SCHG',
                            'SCHH',
                            'SCHM',
                            'SCHO',
                            'SCHP',
                            'SCHR',
                            'AADR',
                            'AAXJ',
                            'ACIM',
                            'ACTX',
                            'ACWF',
                            'ACWI',
                            'ACWV',
                            'ACWX',
                            'ADRA',
                            'ADRD',
                            'ADRE',
                            'ADRU',
                            'ADZ',
                            'AFK',
                            'AFTY',
                            'AGA',
                            'AGF',
                            'AGG',
                            'AGGE',
                            'AGGP',
                            'AGGY',
                            'AGND',
                            'AGQ',
                            'AGZ',
                            'AGZD',
                            'AIA',
                            'AIRR',
                            'ALD',
                            #'ALFA',
                            US_ETF$Ticker <- c('ALFI',
                            'ALTS',
                            'ALTY',
                            'AMJ',
                            'AMLP',
                            'AMU',
                            'AMZA',
                            'AND',
                            'ANGL',
                            'AOA',
                            'AOK',
                            'AOM',
                            'AOR',
                            'ARGT',
                            'ARKG',
                            'ARKK',
                            'ARKQ',
                            'ARKW',
                            'ASEA',
                            'ASET',
                            'ASHR',
                            'ASHS',
                            'ASHX',
                            'ATMP',
                            'AUSE',
                            'AXJL',
                            'AXJV',
                            'AYT',
                            'BAB',
                            'BAL',
                            'BBC',
                            #'BBH',
                            US_ETF$Ticker <- c('BBP',
                            'BBRC',
                            'BCM',
                            'BDCL',
                            'BDCS',
                            'BDD',
                            'BFOR',
                            'BIB',
                            'BICK',
                            'BIL',
                            'BIS',
                            'BIV',
                            'BIZD',
                            'BJK',
                            'BKF',
                            'BKLN',
                            'BLNG',
                            'BLV',
                            'BMLA',
                            'BND',
                            'BNDX',
                            'BNO',
                            'BOIL',
                            'BOM',
                            'BOND',
                            'BOS',
                            'BOTZ',
                            'BRAQ',
                            'BRAZ',
                            'BRF',
                            'BRZU',
                            'BSCH',
                            'BSCI',
                            'BSCJ',
                            'BSCK',
                            'BSCL',
                            'BSCM',
                            'BSCN',
                            'BSCO',
                            'BSCP',
                            'BSCQ',
                            'BSJH',
                            'BSJI',
                            'BSJJ',
                            'BSJK',
                            'BSJL',
                            'BSJM',
                            'BSJN',
                            'BSJO',
                            'BSV',
                            'BSWN',
                            'BTAL',
                            'BTEC',
                            'BWV',
                            'BWX',
                            'BWZ',
                            'BYLD',
                            'BZF',
                            'BZQ',
                            'CAFE',
                            'CANE',
                            'CAPE',
                            'CARZ',
                            'CBND',
                            'CBON',
                            'CDC',
                            'CEFL',
                            'CEMB',
                            'CEW',
                            'CEZ',
                            'CFA',
                            'CFO',
                            'CGW',
                            'CHAD',
                            'CHAU',
                            'CHEP',
                            'CHIE',
                            'CHII',
                            'CHIM',
                            'CHIQ',
                            'CHIX',
                            'CHOC',
                            'CIBR',
                            'CID',
                            'CIL',
                            'CIU',
                            'CIZ',
                            'CJNK',
                            'CLAW',
                            'CLY',
                            'CLYH',
                            'CMBS',
                            'CMDT',
                            'CMF',
                            'CN',
                            'CNCR',
                            'CNDA',
                            'CNHX',
                            'CNXT',
                            'CNY',
                            'CNYA',
                            'COBO',
                            'COMT',
                            'COPX',
                            'CORN',
                            'CORP',
                            'COW',
                            'CPER',
                            'CPI',
                            'CQQQ',
                            'CRAK',
                            'CRBN',
                            'CRDT',
                            'CRED',
                            'CROC',
                            'CROP',
                            'CSB',
                            'CSD',
                            'CSF',
                            'CSJ',
                            #'CSM',
                            US_ETF$Ticker <- c('CSML',
                            'CTNN',
                            'CUPM',
                            'CURE',
                            'CUT',
                            'CVY',
                            'CWB',
                            #'CWEB',
                            US_ETF$Ticker <- c('CWI',
                            'CYB',
                            'CZA',
                            'DAG',
                            'DAX',
                            'DBA',
                            'DBAP',
                            'DBAW',
                            'DBB',
                            'DBBR',
                            'DBC',
                            'DBE',
                            'DBEF',
                            'DBEM',
                            'DBES',
                            'DBEU',
                            'DBEZ',
                            'DBGR',
                            'DBIT',
                            'DBJP',
                            'DBKO',
                            'DBMX',
                            'DBO',
                            'DBP',
                            'DBS',
                            'DBUK',
                            'DBV',
                            'DCNG',
                            'DDEZ',
                            'DDG',
                            'DDJP',
                            'DDLS',
                            'DDM',
                            'DDP',
                            'DDWM',
                            'DEE',
                            'DEEF',
                            'DEF',
                            'DEM',
                            'DES',
                            'DESC',
                            'DEUS',
                            'DEW',
                            'DEWJ',
                            'DEZU',
                            'DFE',
                            'DFJ',
                            'DFND',
                            'DFVL',
                            'DFVS',
                            'DGAZ',
                            'DGL',
                            'DGLD',
                            'DGP',
                            'DGRE',
                            'DGRO',
                            'DGRS',
                            'DGRW',
                            'DGS',
                            'DGT',
                            'DGZ',
                            'DHS',
                            'DHVW',
                            'DIA',
                            'DIG',
                            'DIM',
                            'DIRT',
                            'DIV',
                            'DIVA',
                            'DIVC',
                            'DIVY',
                            'DJCI',
                            #'DJD',
                            US_ETF$Ticker <- c('DJP',
                            'DLBL',
                            'DLBS',
                            'VIOG',
                            'VIOO',
                            'VIOV',
                            'VIS',
                            'VIXH',
                            'VIXM',
                            'VIXY',
                            #'VLU',
                            US_ETF$Ticker <- c('VLUE',
                            'VMBS',
                            'VNM',
                            'VNQ',
                            'VNQI',
                            'VO',
                            'VOE',
                            'VONE',
                            'VONG',
                            'VONV',
                            'VOO',
                            'VOOG',
                            'VOOV',
                            'VOT',
                            'VOX',
                            'VPL',
                            'VPU',
                            'VQT',
                            'VRIG',
                            'VRP',
                            'VSS',
                            'VT',
                            'VTEB',
                            'VTHR',
                            'VTI',
                            'VTIP',
                            'VTV',
                            'VTWG',
                            'VTWO',
                            'VTWV',
                            'VUG',
                            'VUSE',
                            'VV',
                            'VWO',
                            'VWOB',
                            'VXF',
                            'VXUS',
                            'VXX',
                            'VXZ',
                            'VYM',
                            'WBIA',
                            'WBIB',
                            'WBIC',
                            'WBID',
                            'WBIE',
                            'WBIF',
                            'WBIG',
                            'WBIH',
                            'WBII',
                            'WBIL',
                            'WDIV',
                            'WDRW',
                            'WDTI',
                            'WEAT',
                            'WEET',
                            'WIL',
                            'WIP',
                            'WMCR',
                            'WMW',
                            'WOOD',
                            'WPS',
                            'WREI',
                            'WSKY',
                            'WTRX',
                            'WYDE',
                            'XAR',
                            'XBI',
                            'XCEM',
                            'XES',
                            'XHB',
                            'XHE',
                            'XHS',
                            'XINA',
                            'XITK',
                            'XIV',
                            'XIVH',
                            'XLB',
                            'XLE',
                            'XLF',
                            'XLG',
                            'XLI',
                            'XLK',
                            'XLP',
                            'XLU',
                            'XLV',
                            'XLY',
                            'XME',
                            'XMLV',
                            'XMPT',
                            'XOP',
                            'XPH',
                            'XPP',
                            'XRLV',
                            'XRT',
                            'XSD',
                            'XSLV',
                            'XSOE',
                            'XSW',
                            'XT',
                            'XTH',
                            'XTL',
                            'XTN',
                            'XVZ',
                            'XWEB',
                            'XXV',
                            'YANG',
                            'YAO',
                            'YCL',
                            'YCS',
                            'YDIV',
                            'YINN',
                            'YLCO',
                            'YMLI',
                            'YMLP',
                            'YXI',
                            'YYY',
                            'ZBIO',
                            'ZIV',
                            #'ZMLP',
                            US_ETF$Ticker <- c('ZROZ',
                            'ZSL',
                            'DLN',
                            'DLS',
                            'DNL',
                            'DNO',
                            'DOD',
                            'DOG',
                            'DOL',
                            'DON',
                            'DOO',
                            'DPK',
                            'DPST',
                            'DRIP',
                            'DRN',
                            'DRR',
                            'DRV',
                            'DRW',
                            'DSI',
                            'DSLV',
                            'DSUM',
                            'DTD',
                            'DTH',
                            'DTN',
                            'DTO',
                            'DTUL',
                            'DTUS',
                            'DTYL',
                            'DTYS',
                            'DUG',
                            'DULL',
                            'DUSA',
                            'DUST',
                            'DVHL',
                            'DVP',
                            'DVY',
                            'DVYA',
                            'DVYE',
                            'DVYL',
                            'DWAQ',
                            'DWAS',
                            #'DWAT',
                            US_ETF$Ticker <- c('ZSL',
                                               US_ETF$Ticker <- c('DWIN',
                        US_ETF$Ticker <- c( 'DWLD',
                            #'DWLV',
                            US_ETF$Ticker <- c('DWM',
                                               US_ETF$Ticker <- c(  'DWTR',
                                                                    US_ETF$Ticker <- c('DWX',
                            'DXD',
                            'DXGE',
                            'DXJ',
                            'DXJC',
                            'DXJF',
                            US_ETF$Ticker <- c('DXJH',
                            'DXJR',
                            'DXJS',
                            'DXPS',
                            'DXUS',
                            'DYB',
                            'DYLS',
                            'DYY',
                            'DZK',
                            'DZZ',
                            'EBND',
                            'ECH',
                            'ECNS',
                            'ECON',
                            'EDC',
                            'EDEN',
                            'EDIV',
                            'EDOG',
                            'EDOM',
                            'EDV',
                            'EDZ',
                            'EEB',
                            'EEH',
                            'EELV',
                            'EEM',
                            'EEMA',
                            'EEMS',
                            'EEMV',
                            'EES',
                            'EET',
                            'EEV',
                            'EFA',
                            'EFAD',
                            'EFAV',
                            'EFFE',
                            'EFG',
                            'EFNL',
                            'EFO',
                            'EFU',
                            'EFV',
                            'EFZ',
                            'EGPT',
                            'EIDO',
                            'EIRL',
                            'EIS',
                            'ELD',
                            'EMAG',
                            'EMB',
                            'EMBH',
                            'EMCB',
                            'EMCG',
                            'EMCR',
                            'EMDD',
                            'EMFM',
                            'EMGF',
                            'EMHY',
                            'EMIF',
                            'EMIH',
                            'EMLB',
                            'EMLC',
                            'EMLP',
                            'EMQQ',
                            'EMSD',
                            'EMSH',
                            'ENFR',
                            'ENOR',
                            'ENY',
                            'ENZL',
                            'EPHE',
                            'EPI',
                            'EPOL',
                            'EPP',
                            'EPRF',
                            'EPS',
                            'EPU',
                            #'EPV',
                            US_ETF$Ticker <- c('EQAL',
                                               US_ETF$Ticker <- c('EQL',
                                                                  US_ETF$Ticker <- c('EQLT',
                            'EQWL',
                            'EQWM',
                            'EQWS',
                            'ERO',
                            'ERUS',
                            'ERX',
                            'ERY',
                            'ESG',
                            'ESGF',
                            'ESGG',
                            'ESGL',
                            'ESGN',
                            'ESGS',
                            'ESGU',
                            'ESGW',
                            'ETHO',
                            'EUDG',
                            'EUDV',
                            'EUFL',
                            'EUFN',
                            'EUFX',
                            'EUM',
                            'EUMV',
                            'EUO',
                            'EURL',
                            'EUSA',
                            'EUSC',
                            'EVX',
                            'EWA',
                            'EWC',
                            'EWD',
                            'EWEM',
                            'EWG',
                            'EWGS',
                            'EWH',
                            'EWI',
                            'EWJ',
                            'EWK',
                            'EWL',
                            'EWM',
                            'EWMC',
                            'EWN',
                            'EWO',
                            'EWP',
                            'EWQ',
                            'EWRE',
                            'EWS',
                            'EWSC',
                            'EWT',
                            'EWU',
                            'EWUS',
                            'EWV',
                            'EWW',
                            'EWX',
                            'EWY',
                            'EWZ',
                            'EWZS',
                            'EXI',
                            'EXT',
                            'EYLD',
                            'EZA',
                            'EZJ',
                            'EZM',
                            'EZU',
                            'EZY',
                            'FAAR',
                            'FAB',
                            'FAD',
                            'FALN',
                            'FAN',
                            'FAS',
                            'FAUS',
                            'FAZ',
                            'FBGX',
                            'FBND',
                            'FBT',
                            'FBZ',
                            'FCA',
                            'FCAN',
                            'FCEF',
                            'FCG',
                            'FCOM',
                            'FCOR',
                            'FCVT',
                            'FDD',
                            'FDIS',
                            'FDIV',
                            'FDL',
                            'FDLO',
                            'FDM',
                            'FDMO',
                            'FDN',
                            'FDRR',
                            'FDT',
                            'FDTS',
                            'FDVV',
                            'FEEU',
                            'FEM',
                            'FEMB',
                            'FEMS',
                            'FENY',
                            'FEP',
                            'FEU',
                            'FEUZ',
                            'FEX',
                            'FEZ',
                            'FFR',
                            'FFTY',
                            'FGD',
                            'FGM',
                            'FHK',
                            'FHLC',
                            'FIDU',
                            'FIEG',
                            'FIEU',
                            'FIGY',
                            'FILL',
                            'FINQ',
                            'FINU',
                            #'FINX',
                            US_ETF$Ticker <- c('FINZ',
                            'FITS',
                            'FIW',
                            'FJP',
                            'FKO',
                            'FKU',
                            'FLAG',
                            'FLAT',
                            'FLEU',
                            'FLGE',
                            'FLLV',
                            'FLM',
                            'FLN',
                            'FLOT',
                            'FLQD',
                            'FLQE',
                            'FLQG',
                            'FLQH',
                            'FLQL',
                            'FLQM',
                            'FLQS',
                            'FLRN',
                            'FLRT',
                            'FLTB',
                            'FLTR',
                            'FM',
                            'FMAT',
                            'FMB',
                            'FMF',
                            'FMK',
                            'FNCL',
                            'FNDA',
                            'FNDB',
                            'FNDC',
                            'FNDE',
                            'FNDF',
                            'FNDX',
                            'FNI',
                            'FNK',
                            'FNX',
                            'FNY',
                            'FOIL',
                            'FONE',
                            'FPA',
                            'FPE',
                            'FPX',
                            'FPXI',
                            'FQAL',
                            #'FRAK',
                            US_ETF$Ticker <- c('FREL',
                            'FRI',
                            'FRN',
                            'FSTA',
                            'FSZ',
                            'FTA',
                            'FTAG',
                            'FTC',
                            'FTCS',
                            'FTEC',
                            'FTGC',
                            'FTHI',
                            'FTLB',
                            'FTLS',
                            'FTSD',
                            'FTSL',
                            'FTSM',
                            'FTW',
                            'FTXG',
                            'FTXH',
                            'FTXN',
                            'FTXO',
                            'FTXR',
                            'FUD',
                            'FUE',
                            #'FUT',
                            US_ETF$Ticker <- c('FUTY',
                            'FV',
                            'FVAL',
                            'FVD',
                            'FVL',
                            'FWDB',
                            'FWDD',
                            'FWDI',
                            'FXA',
                            'FXB',
                            'FXC',
                            'FXCH',
                            'FXD',
                            'FXE',
                            'FXEP',
                            'FXEU',
                            'FXF',
                            'FXG',
                            'FXH',
                            'FXI',
                            'FXJP',
                            'FXL',
                            'FXN',
                            'FXO',
                            'FXP',
                            'FXR',
                            'FXS',
                            'FXSG',
                            'FXU',
                            'FXY',
                            'FXZ',
                            'FYC',
                            'FYLD',
                            'FYT',
                            'FYX',
                            'GAA',
                            'GAF',
                            'GAL',
                            'GAMR',
                            'GARD',
                            'GASL',
                            'GASX',
                            'GAZ',
                            'GAZB',
                            'GBB',
                            'GBF',
                            'GBIL',
                            'GCC',
                            'GCE',
                            'GDJJ',
                            'GDVD',
                            'GDX',
                            'GDXJ',
                            'GDXS',
                            'GENY',
                            'GEUR',
                            'GEX',
                            'GGOV',
                            'GHII',
                            'GHYG',
                            'GII',
                            'GLD',
                            'GLDI',
                            'GLL',
                            'GLTR',
                            'GMF',
                            'GML',
                            'GMM',
                            'GMMB',
                            'GMOM',
                            'GMTB',
                            'GNMA',
                            'GNR',
                            'GOVT',
                            'GQRE',
                            'GREK',
                            'GRES',
                            'GRI',
                            'GRID',
                            'GRN',
                            'GRU',
                            'GRWN',
                            'GSC',
                            #'GSD',
                            US_ETF$Ticker <- c('GSEU',
                            'GSG',
                            'GSIE',
                            'GSJY',
                            'GSLC',
                            'GSP',
                            'GSY',
                            'GTO',
                            'GULF',
                            'GUNR',
                            'GUR',
                            'GURI',
                            'GURU',
                            'GUSH',
                            'GVAL',
                            'GVI',
                            'GWL',
                            'GWX',
                            'GXC',
                            'GXF',
                            'GXG',
                            'GYEN',
                            'GYLD',
                            'HACK',
                            'HACV',
                            'HACW',
                            'HAHA',
                            'HAKK',
                            'HAO',
                            'HAP',
                            'HAUD',
                            'HAWX',
                            'HDAW',
                            'HDEE',
                            'HDEF',
                            'HDEZ',
                            'HDG',
                            'HDGE',
                            'HDLV',
                            'HDMV',
                            'HDRW',
                            'HDV',
                            'HDWX',
                            'HECO',
                            'HEDJ',
                            'HEEM',
                            'HEFA',
                            'HEFV',
                            'HEMV',
                            'HEUS',
                            'HEUV',
                            'HEVY',
                            'HEWC',
                            'HEWG',
                            'HEWI',
                            'HEWJ',
                            'HEWL',
                            'HEWP',
                            'HEWU',
                            'HEWW',
                            'HEWY',
                            'HEZU',
                            'HFEZ',
                            'HFXE',
                            'HFXI',
                            'HFXJ',
                            'HGEU',
                            'HGI',
                            'HGJP',
                            'HGSD',
                            'HHYX',
                            'HILO',
                            'HIPS',
                            'HJPX',
                            'HOLD',
                            'HOML',
                            'HSCZ',
                            'HSPX',
                            'HTUS',
                            'HUSE',
                            'HUSV',
                            'HVPW',
                            'HYD',
                            'HYDD',
                            'HYEM',
                            'HYG',
                            'HYGH',
                            'HYHG',
                            'HYIH',
                            'HYLB',
                            'HYLD',
                            'HYLS',
                            'HYMB',
                            'HYND',
                            'HYS',
                            'HYXE',
                            'HYXU',
                            'HYZD',
                            'IAGG',
                            'IAI',
                            'IAK',
                            'IAT',
                            'IAU',
                            'IBB',
                            'IBCC',
                            'IBCD',
                            'IBCE',
                            'IBDB',
                            'IBDC',
                            'IBDD',
                            'IBDH',
                            'IBDJ',
                            'IBDL',
                            'IBDR',
                            #'IBLN',
                            US_ETF$Ticker <- c('IBMF',
                            'IBMG',
                            'IBMH',
                            'IBMI',
                            'IBMJ',
                            'IBMK',
                            'IBND',
                            'IBUY',
                            'ICF',
                            'ICI',
                            'ICLN',
                            'ICOL',
                            'ICSH',
                            'ICVT',
                            'IDHQ',
                            'IDLB',
                            'IDLV',
                            'IDOG',
                            'IDU',
                            'IDV',
                            'IDX',
                            'IEF',
                            'IEFA',
                            'IEI',
                            'IEMG',
                            'IEO',
                            'IEUR',
                            'IEUS',
                            'IEV',
                            'IEZ',
                            'IFEU',
                            'IFGL',
                            'IFLY',
                            'IFV',
                            'IGE',
                            'IGEM',
                            'IGF',
                            'IGHG',
                            'IGIH',
                            'IGM',
                            'IGN',
                            'IGOV',
                            'IGRO',
                            'IGV',
                            'IHDG',
                            'IHE',
                            'IHF',
                            'IHI',
                            'IHY',
                            'IJH',
                            'IJJ',
                            'IJK',
                            'IJR',
                            'IJS',
                            'IJT',
                            'ILF',
                            'ILTB',
                            'IMED',
                            'IMLP',
                            'IMOM',
                            'IMTB',
                            'IMTM',
                            'INCO',
                            'INDA',
                            'INDL',
                            'INDY',
                            'INFR',
                            'INKM',
                            'INP',
                            'INR',
                            'INTF',
                            'INXX',
                            'IOIL',
                            'IOO',
                            'IPAC',
                            'IPAY',
                            'IPD',
                            'IPE',
                            'IPF',
                            'IPFF',
                            'IPK',
                            'IPKW',
                            'IPN',
                            'IPO',
                            'IPOS',
                            'IPS',
                            'IPU',
                            'IPW',
                            'IQDE',
                            'IQDF',
                            'IQDY',
                            'IQLT',
                            'IRV',
                            'IRY',
                            'ISCF',
                            'ISHG',
                            'ISMD',
                            'ISRA',
                            'IST',
                            'ISTB',
                            'ISZE',
                            'ITA',
                            'ITB',
                            'ITE',
                            'ITM',
                            'ITOT',
                            'ITR',
                            'IUSB',
                            'IUSG',
                            'IUSV',
                            'IVAL',
                            'IVE',
                            'IVLU',
                            'IVOG',
                            'IVOO',
                            'IVOP',
                            'IVOV',
                            'IVV',
                            'IVW',
                            'IWB',
                            'IWC',
                            'IWD',
                            'IWF',
                            'IWL',
                            'IWM',
                            'IWN',
                            'IWO',
                            'IWP',
                            'IWR',
                            'IWS',
                            'IWV',
                            'IWX',
                            'IWY',
                            'IXC',
                            'IXG',
                            'IXJ',
                            'IXN',
                            'IXP',
                            'IXUS',
                            'IYC',
                            'IYE',
                            'IYF',
                            'IYG',
                            'IYH',
                            'IYJ',
                            'IYK',
                            'IYLD',
                            'IYM',
                            'IYR',
                            'IYT',
                            'IYW',
                            'IYY',
                            'IYZ',
                            'JDST',
                            'JEM',
                            'JETS',
                            'JHDG',
                            'JHMC',
                            'JHMF',
                            'JHMH',
                            'JHML',
                            'JHMM',
                            'JHMT',
                            'JJA',
                            'JJC',
                            'JJE',
                            'JJG',
                            'JJM',
                            'JJN',
                            'JJP',
                            'JJS',
                            'JJT',
                            'JJU',
                            'JKD',
                            'JKE',
                            'JKF',
                            'JKG',
                            'JKH',
                            'JKI',
                            'JKJ',
                            'JKK',
                            'JKL',
                            'JNK',
                            'JNUG',
                            'JO',
                            'JPEM',
                            'JPEU',
                            'JPGE',
                            'JPHF',
                            'JPIN',
                            'JPMV',
                            #'JPN',
                            US_ETF$Ticker <- c('JPNL',
                            'JPXN',
                            'JXI',
                            'JYN',
                            'KBA',
                            'KBE',
                            'KBWB',
                            'KBWD',
                            'KBWP',
                            'KBWR',
                            'KBWY',
                            'KCE',
                            'KCNY',
                            'KEMP',
                            'KFYP',
                            'KIE',
                            'KLD',
                            'KLDW',
                            'KNOW',
                            'KOL',
                            'KOLD',
                            'KOR',
                            'KORU',
                            'KRE',
                            'KROO',
                            'KRS',
                            'KRU',
                            'KSA',
                            'KWEB',
                            #'KWT',
                            US_ETF$Ticker <- c('KXI',
                            'LABD',
                            'LABU',
                            'LALT',
                            'LARE',
                            'LBDC',
                            'LBJ',
                            'LD',
                            'LDRI',
                            'LDUR',
                            'LEDD',
                            'LEMB',
                            'LGLV',
                            'LIT',
                            'LKOR',
                            'LLSC',
                            'LLSP',
                            'LMBS',
                            #'LMLP',
                            US_ETF$Ticker <- c('LOWC',
                            'LQD',
                            'LQDH',
                            'LRET',
                            'LRGF',
                            'LSTK',
                            'LSVX',
                            'LTL',
                            'LTPZ',
                            'LVHI',
                            'LVL',
                            'LVUS',
                            'LWC',
                            'MATH',
                            'MBB',
                            'MBG',
                            'MBSD',
                            'MCEF',
                            'MCHI',
                            'MCRO',
                            'MDIV',
                            'MDY',
                            'MDYG',
                            'MDYV',
                            'MEAR',
                            'MELT',
                            'MENU',
                            'MGC',
                            'MGK',
                            'MGV',
                            'MIDU',
                            'MIDZ',
                            'MINC',
                            'MINT',
                            'MLN',
                            'MLPA',
                            'MLPC',
                            'MLPG',
                            'MLPI',
                            'MLPJ',
                            'MLPO',
                            'MLPS',
                            'MLPX',
                            'MLPY',
                            'MLTI',
                            'MMTM',
                            'MNA',
                            'MOAT',
                            'MOM',
                            'MOO',
                            'MORL',
                            'MORT',
                            'MOTI',
                            'MRGR',
                            'MRRL',
                            'MTK',
                            'MTUM',
                            'MUB',
                            'MUNI',
                            'MVV',
                            'MXI',
                            'MYY',
                            'MZZ',
                            'SCHV',
                            'SCHX',
                            'SCHZ',
                            'SCID',
                            'SCIF',
                            'SCIJ',
                            'SCIN',
                            'SCIU',
                            'SCIX',
                            'SCJ',
                            'SCO',
                            'SCPB',
                            'SCTO',
                            'SCZ',
                            'SDD',
                            'SDEM',
                            'SDIV',
                            'SDOG',
                            'SDOW',
                            'SDP',
                            'SDS',
                            'SDY',
                            'SDYL',
                            'SEA',
                            'SEF',
                            'SFLA',
                            'SGAR',
                            'SGDJ',
                            'SGDM',
                            'SGG',
                            'SGOL',
                            'SGQI',
                            'SH',
                            'SHAG',
                            'SHE',
                            'SHM',
                            'SHNY',
                            'SHV',
                            'SHY',
                            'SHYD',
                            'SHYG',
                            'SICK',
                            'SIJ',
                            #'SIL',
                            US_ETF$Ticker <- c('SILJ',
                            'SIPE',
                            'SIVR',
                            'SIZ',
                            'SIZE',
                            'SJB',
                            'SJNK',
                            'SKF',
                            #'SKOR',
                            US_ETF$Ticker <- c('SKYY',
                            'SLIM',
                            'SLQD',
                            'SLV',
                            'SLVO',
                            'SLVP',
                            'SLX',
                            'SLY',
                            'SLYG',
                            'SLYV',
                            'SMB',
                            'SMCP',
                            'SMD',
                            'SMDD',
                            'SMDV',
                            'SMEZ',
                            #'SMH',
                            US_ETF$Ticker <- c('SMHD',
                            'SMIN',
                            'SMK',
                            'SMLF',
                            'SMLL',
                            'SMLV',
                            'SMMU',
                            'SMMV',
                            'SMN',
                            'SNLN',
                            'SNSR',
                            'SOCL',
                            'SOIL',
                            'SOP',
                            'SOVB',
                            'SOXL',
                            'SOXS',
                            'SOXX',
                            'SOYB',
                            'SPDN',
                            'SPFF',
                            'SPHB',
                            'SPHD',
                            'SPHQ',
                            'SPLV',
                            'SPLX',
                            'SPMO',
                            'SPPP',
                            'SPUN',
                            'SPUU',
                            'SPVU',
                            'SPXE',
                            'SPXH',
                            'SPXL',
                            'SPXN',
                            'SPXS',
                            'SPXT',
                            'SPXU',
                            'SPXV',
                            'SPY',
                            'SPYB',
                            'SPYD',
                            'SPYG',
                            'SPYV',
                            'SPYX',
                            'SQQQ',
                            'SRET',
                            'SRLN',
                            'SRS',
                            'SRTY',
                            'SSG',
                            'SSO',
                            'SST',
                            'STIP',
                            'STPP',
                            'STPZ',
                            'SUB',
                            'SWIN',
                            'SYE',
                            'SYG',
                            'SYLD',
                            'SYV',
                            'SZK',
                            'SZO',
                            'TAGS',
                            'TAN',
                            'TAO',
                            'TAPR',
                            'TBF',
                            'TBT',
                            'TBX',
                            'TBZ',
                            'TDIV',
                            'TDTF',
                            'TDTT',
                            'TECL',
                            'TECS',
                            'TFI',
                            'TFLO',
                            'THD',
                            'THHY',
                            'THRK',
                            'TILT',
                            'TIP',
                            'TIPX',
                            'TIPZ',
                            'TLDH',
                            'TLEH',
                            'TLH',
                            'TLO',
                            'TLT',
                            'TLTD',
                            'TLTE',
                            'TMF',
                            'TMV',
                            'TNA',
                            'TOFR',
                            'TOK',
                            'TOLZ',
                            'TOTL',
                            'TPS',
                            'TPYP',
                            'TQQQ',
                            'TRSK',
                            'TTFS',
                            'TTT',
                            'TUR',
                            'TUSA',
                            'TUTI',
                            'TUTT',
                            'TUZ',
                            'TVIX',
                            'TVIZ',
                            'TWM',
                            'TWOK',
                            'TYBS',
                            'TYD',
                            'TYNS',
                            'TYO',
                            'TZA',
                            'UAE',
                            'UAG',
                            'UBC',
                            'UBG',
                            'UBIO',
                            'UBM',
                            'UBN',
                            'UBND',
                            'UBR',
                            'UBT',
                            'UCC',
                            'UCI',
                            'UCIB',
                            'UCO',
                            'UDN',
                            'UDOW',
                            'UGA',
                            'UGAZ',
                            'UGE',
                            'UGL',
                            'UGLD',
                            'UHN',
                            'UJB',
                            'ULE',
                            'ULST',
                            'UMDD',
                            'UMX',
                            'UNG',
                            'UNL',
                            'UOP',
                            'UPRO',
                            #'UPV',
                            US_ETF$Ticker <- c('UPW',
                            'URA',
                            'URE',
                            'URR',
                            'URTH',
                            'URTY',
                            'USAG',
                            'USCI',
                            'USD',
                            'USDU',
                            'USFR',
                            'USL',
                            'USLB',
                            'USLV',
                            'USMR',
                            'USMV',
                            'USO',
                            'USRT',
                            'UST',
                            'USV',
                            'UTES',
                            'UUP',
                            'UVXY',
                            'UWM',
                            'UXI',
                            'UYG',
                            'UYM',
                            'VALX',
                            'VAMO',
                            'VAW',
                            'VB',
                            'VBK',
                            'VBND',
                            'VBR',
                            'VCIT',
                            'VCLT',
                            'VCR',
                            'VCSH',
                            'VDC',
                            'VDE',
                            'VEA',
                            'VEGA',
                            'VEGI',
                            'VEU',
                            'VFH',
                            'VGIT',
                            'VGK',
                            'VGLT',
                            'VGSH',
                            'VGT',
                            'VHT',
                            'VIDI',
                            'VIG',
                            'VIIX',
                            'VIIZ')

for(i in unique(US_ETF$Ticker))
monthly_ETF_returns(i, year)
i
